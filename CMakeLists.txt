cmake_minimum_required(VERSION 3.15)
project(sampleApp)

if(EXISTS "${CMAKE_BINARY_DIR}/conanbuildinfo.cmake")
	include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
	message(STATUS "CONAN_INCLUDE_DIRS = ${CONAN_INCLUDE_DIRS}")
	message(STATUS "Running conan_basic_setup() ... ")
	conan_basic_setup()

	message(STATUS "Running conan_basic_setup() completed. ")
else()
	message (FATAL_ERROR, "Could not find file [${CMAKE_BINARY_DIR}/conanbuildinfo.cmake]. It should be generated by conan install command.")
endif()


add_definitions(-DBOOST_LOG_STATIC_LINK)
set(Boost_USE_STATIC_LIBS ON)
include_directories(${CMAKE_CURRENT_SOURCE_DIR})
include_directories(${CMAKE_BINARY_DIR}}/ogamma-sdk/include)
include_directories(${CONAN_INCLUDE_DIRS})

link_directories(${CMAKE_BINARY_DIR}/ogamma-sdk/lib)
link_directories(${CONAN_LIB_DIRS})

if (WIN32)
	add_compile_options(/bigobj)
else()
	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++17 -pthread")
endif()

# To find the libraries just built in this task:
link_directories("${CMAKE_CURRENT_BINARY_DIR}/lib")
add_subdirectory(sampleApp)
